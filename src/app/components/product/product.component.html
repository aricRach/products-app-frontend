<div class="p-4 justify-center align-items-center d-flex flex-column">
  <a [routerLink]="['/detail', data.id]">
  <img [src]="data.image" class="img-thumbnail">
  </a>
  <h3 [innerHTML]="data.name | itemTitle | highlightSearchResults : searchTerm  | uppercase " class="item-title">{{data.name }}</h3>
  <div class="price-details">
  <h4 [ngClass]="{'discount' : data.discountPercent > 0}">{{data.price | conversion:currencyCode | currency: currencyCode}}</h4>
  <div *ngIf="data.discountPercent">
    <h4>{{data.price | calculateDiscount: data.discountPercent | conversion:currencyCode | currency: currencyCode}}</h4>
  </div>
  </div>
  <button class="btn btn-primary btn-sm w-100" (click)="notifyParent()" *ngIf="data.stock>0; else stock">add to cart</button>
  <a *ngIf="userAuthenticated?.email === data.userOwner.email" [routerLink]="['/edit-product', data.id]" class="btn btn-primary btn-sm w-100">edit</a>
</div>

<ng-template #stock>
  <p>out of stock</p>
  <button>notify me</button>
</ng-template>
